var Layout=function(){var t=function(){$(window).scrollTop()>60?$("body").addClass("page-on-scroll"):$("body").removeClass("page-on-scroll")},o=function(){$(".navbar").offset().top>150&&$(".navbar-fixed-top").addClass("top-nav-collapse"),$(window).scroll(function(){$(".navbar").offset().top>150?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")});var t=0;t=$(".navbar-fixed-top").height()-20,$(".js_nav-item a").bind("click",function(o){var a=$($(this).attr("href")).offset().top;$("html, body").stop().animate({scrollTop:a-t},600),o.preventDefault()});$("body").scrollspy({target:".navbar-fixed-top",offset:t+2});$(window).scroll(function(){$(".navbar-collapse.in").collapse("hide")})},a=function(){var t=$(".carousel .item"),o=$(window).width();t.eq(0).addClass("active"),t.width(o),t.addClass("full-screen");var a,i,e;$(".carousel img").each(function(){e=$(this).attr("src");var t=$(this).attr("data-color");$(this).parent().css({"background-image":"url("+e+")","background-color":t})});var n=new Image;n.onload=function(){a=n.height,i=n.width},n.src=e;var r=1*o/i*a;t.height(r),$(window).on("resize",function(){o=$(window).width(),r=1*o/i*a,t.height(r),t.width(o)})},i=function(){$("[data-auto-height]").each(function(){var t=$(this),o=$("[data-height]",t),a=0,i=t.attr("data-mode"),e=parseInt(t.attr("data-offset")?t.attr("data-offset"):0);o.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",""):$(this).css("min-height","");var t="base-height"==i?$(this).outerHeight():$(this).outerHeight(!0);t>a&&(a=t)}),a+=e,o.each(function(){"height"==$(this).attr("data-height")?$(this).css("height",a):$(this).css("min-height",a)}),t.attr("data-related")&&$(t.attr("data-related")).css("height",t.height())})},e=function(){var t=$(".work-popup-overlay"),o=$(".work-popup-close");$(".work-popup-trigger").on("click",function(){$(this).find(".work-popup-overlay").removeClass("work-popup-overlay-show"),$(this).find(".work-popup-overlay").addClass("work-popup-overlay-show")}),o.on("click",function(o){o.stopPropagation(),t.removeClass("work-popup-overlay-show")})};return{init:function(){t(),o(),a(),i(),e(),$(window).scroll(function(){t()})},getViewPort:function(){var t=window,o="inner";return"innerWidth"in window||(o="client",t=document.documentElement||document.body),{width:t[o+"Width"],height:t[o+"Height"]}}}}();$(document).ready(function(){Layout.init()});